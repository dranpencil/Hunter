<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hunter & Apprentice Board Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <div class="game-header">
            <button id="new-game-btn" class="new-game-button">Start a New Game</button>
            <button id="data-collection-btn" class="data-collection-button" onclick="game.showDataCollectionModal()">Data Collection Mode</button>
            <h1>Hunter & Apprentice</h1>
            <div id="data-collection-progress" class="data-collection-progress" style="display: none;"></div>
        </div>
        
        <!-- Game Log Section -->
        <div id="game-log-section" class="game-log-section" style="display: none;">
            <div class="log-header">
                <h3>Game Log</h3>
                <button id="clear-log-btn" class="clear-log-btn" onclick="game.clearGameLog()">Clear</button>
            </div>
            <div id="game-log" class="game-log">
                <div class="log-entry">Welcome to Hunter & Apprentice!</div>
            </div>
        </div>
        
        <!-- Player Count Selection Screen -->
        <div id="player-count-selection" class="player-count-selection" style="display: none;">
            <div class="selection-content">
                <h2>Configure Players</h2>
                <div id="solo-play-section" class="mode-section" style="display: block;">
                    <div class="player-slots">
                        <div class="player-slot active" data-slot="0">
                            <span class="slot-number">1</span>
                            <span class="slot-type">Player</span>
                            <button class="slot-toggle" onclick="game.toggleSlotType(0)">Change to Bot</button>
                        </div>
                        <div class="player-slot closed" data-slot="1">
                            <span class="slot-number">2</span>
                            <span class="slot-status">Closed</span>
                            <button class="slot-activate" onclick="game.activateSlot(1)">Add Player</button>
                        </div>
                        <div class="player-slot closed" data-slot="2">
                            <span class="slot-number">3</span>
                            <span class="slot-status">Closed</span>
                            <button class="slot-activate" onclick="game.activateSlot(2)">Add Player</button>
                        </div>
                        <div class="player-slot closed" data-slot="3">
                            <span class="slot-number">4</span>
                            <span class="slot-status">Closed</span>
                            <button class="slot-activate" onclick="game.activateSlot(3)">Add Player</button>
                        </div>
                        <div class="player-slot closed" data-slot="4">
                            <span class="slot-number">5</span>
                            <span class="slot-status">Closed</span>
                            <button class="slot-activate" onclick="game.activateSlot(4)">Add Player</button>
                        </div>
                    </div>
                    <button class="ready-btn" id="solo-ready-btn" onclick="game.startSoloGame()" disabled>Ready</button>
                </div>
                <button class="back-btn" onclick="game.backToModeSelection()">Back</button>
            </div>
        </div>
        
        <!-- Player Boards -->
        <div class="player-boards" id="player-boards-container">
            <!-- Player boards will be generated dynamically -->
        </div>
        
        <!-- Combat Section -->
        <div class="combat-section" style="display: none;" id="combat-section">
            <h3>Combat</h3>
            <div class="combat-controls">
                <button onclick="game.performCombat(1, 2)">Player 1 attacks Player 2</button>
                <button onclick="game.performCombat(2, 1)">Player 2 attacks Player 1</button>
            </div>
            <div id="combat-results"></div>
        </div>

        <!-- Game Board -->
        <div class="game-board">
            <div class="location" data-location="1">
                <h3>Work Site</h3>
                <div class="reward-info">$6/4</div>
                <div class="token-slots"></div>
            </div>
            <div class="location" data-location="2">
                <h3>Bar</h3>
                <div class="reward-info">Beer 6/4</div>
                <div class="token-slots"></div>
            </div>
            <div class="location" data-location="3">
                <h3>Station</h3>
                <div class="reward-info">Wild Card</div>
                <div class="token-slots"></div>
            </div>
            <div class="location" data-location="4">
                <h3>Hospital</h3>
                <div class="reward-info">Blood 4/2</div>
                <div class="token-slots"></div>
            </div>
            <div class="location" data-location="5">
                <h3>Dojo</h3>
                <div class="reward-info">EXP 4/2</div>
                <div class="token-slots"></div>
            </div>
            <div class="location" data-location="6">
                <h3>Plaza</h3>
                <div class="reward-info">Score 4/2</div>
                <div class="token-slots"></div>
            </div>
            <div class="location" data-location="7">
                <h3>Forest</h3>
                <div class="reward-info">Monster Hunt</div>
                <div class="token-slots"></div>
            </div>
        </div>

        <!-- Player Area -->
        <div class="player-area">
            <div class="current-player">
                <h2>Current Player: <span id="current-player-name">Player 1</span></h2>
            </div>
            
            <!-- Card Selection Area -->
            <div class="card-selection">
                <div class="token-selection">
                    <h3>Select Hunter Location</h3>
                    <div class="hunter-cards cards-container" id="hunter-cards"></div>
                </div>
                <div class="token-selection">
                    <h3>Select Apprentice Location</h3>
                    <div class="apprentice-cards cards-container" id="apprentice-cards"></div>
                </div>
            </div>
            
            <!-- Store Area -->
            <div class="store-area" id="store-area" style="display: none;">
                <h3>Store - <span id="store-current-player">Player 1</span></h3>
                <div class="store-info">
                    <span>Money: $<span id="store-player-money">0</span></span>
                    <span>Capacity: <span id="store-current-capacity">0</span>/<span id="store-max-capacity">0</span></span>
                </div>
                <div class="store-items-grid" id="store-items-grid">
                    <!-- Store items will be added here -->
                </div>
                <button class="finish-shopping-btn" onclick="game.finishShopping()">Finish Shopping</button>
            </div>
            
            <!-- Control Buttons -->
            <div class="controls">
                <button id="confirm-selection" disabled>Confirm Selection</button>
                <button id="next-player" style="display: none;">Next Player</button>
            </div>
        </div>

        <!-- Game Status -->
        <div class="game-status">
            <p id="status-message">Player 1: Select locations for your Hunter and Apprentice</p>
        </div>
        
        <!-- Station Choice Modal -->
        <div id="station-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3 id="station-modal-title">Player 1: Choose Station Resource</h3>
                <div class="station-choices">
                    <button class="station-choice" onclick="game.selectStationResource('money')">
                        <span class="choice-icon">üí∞</span>
                        <span>Money</span>
                        <span class="choice-amount" id="money-amount">6</span>
                    </button>
                    <button class="station-choice" onclick="game.selectStationResource('beer')">
                        <span class="choice-icon">üç∫</span>
                        <span>Beer</span>
                        <span class="choice-amount" id="beer-amount">6</span>
                    </button>
                    <button class="station-choice" onclick="game.selectStationResource('bloodBag')">
                        <span class="choice-icon">ü©∏</span>
                        <span>Blood Bag</span>
                        <span class="choice-amount" id="bloodBag-amount">4</span>
                    </button>
                    <button class="station-choice" onclick="game.selectStationResource('exp')">
                        <span class="choice-icon">‚≠ê</span>
                        <span>Experience</span>
                        <span class="choice-amount" id="exp-amount">4</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Monster Selection Modal -->
        <div id="monster-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3 id="monster-modal-title">Choose Monster Level</h3>
                <div class="monster-choices">
                    <button class="monster-choice" onclick="game.selectMonsterLevel(game.currentMonsterPlayer, 1)">
                        <span class="choice-icon">üëπ</span>
                        <span>Level 1</span>
                        <span class="choice-cost">2 EP</span>
                    </button>
                    <button class="monster-choice" onclick="game.selectMonsterLevel(game.currentMonsterPlayer, 2)">
                        <span class="choice-icon">üë∫</span>
                        <span>Level 2</span>
                        <span class="choice-cost">3 EP</span>
                    </button>
                    <button class="monster-choice" onclick="game.selectMonsterLevel(game.currentMonsterPlayer, 3)">
                        <span class="choice-icon">üòà</span>
                        <span>Level 3</span>
                        <span class="choice-cost">4 EP</span>
                    </button>
                </div>
                <div class="pet-selection-section">
                    <h4>Select Pets to Join Battle (Optional)</h4>
                    <div id="pet-selection-container">
                        <!-- Pet selection options will be populated here -->
                    </div>
                    <div class="ep-cost-summary">
                        <span>Total EP Cost: </span>
                        <span id="total-ep-cost">0</span>
                    </div>
                    <button class="confirm-battle-btn" onclick="game.confirmBattleSelection()" style="display: none;">Confirm Battle</button>
                </div>
            </div>
        </div>
        
        <!-- Monster Battle UI -->
        <div id="monster-battle" class="modal" style="display: none;">
            <div class="battle-content">
                <h3>Monster Battle</h3>
                <div class="battle-info">
                    <div class="battle-player">
                        <h4 id="battle-player-name">Player 1</h4>
                        <p>HP: <span id="battle-player-hp">4/4</span></p>
                        <p>EP: <span id="battle-player-ep">6/6</span></p>
                        <p id="battle-bullets-info" style="display: none;">Bullets: <span id="battle-bullet-count">0/6</span></p>
                        <p id="battle-batteries-info" style="display: none;">Batteries: <span id="battle-battery-count">0/6</span></p>
                        <div id="battle-pets-info" class="battle-pets-info">
                            <!-- Pet info will be displayed here -->
                        </div>
                    </div>
                    <div class="vs">VS</div>
                    <div class="battle-monster">
                        <h4>Level <span id="battle-monster-level">1</span> Monster</h4>
                        <p>HP: <span id="battle-monster-hp">4/4</span></p>
                        <p>ATT: <span id="battle-monster-att">2</span></p>
                        <div class="monster-rewards">
                            <p class="rewards-title">Rewards:</p>
                            <p id="battle-monster-rewards">Loading...</p>
                        </div>
                    </div>
                </div>
                <div class="battle-status">
                    <p id="battle-turn">Your turn to attack!</p>
                    <button id="battle-attack-btn" class="battle-btn">Attack!</button>
                    <button id="battle-tame-btn" class="battle-btn" style="display: none;">Tame!</button>
                    <button id="battle-defense-btn" class="battle-btn" style="display: none;">Defense!</button>
                    <button id="battle-triple-damage-btn" class="battle-btn" style="display: none;">2x Damage!</button>
                </div>
                <div class="battle-items">
                    <h4>Use Items:</h4>
                    <div id="battle-item-buttons" class="battle-item-buttons">
                        <!-- Item buttons will be added here dynamically -->
                    </div>
                </div>
                <div class="battle-log-container">
                    <h4>Battle Log:</h4>
                    <div id="battle-log" class="battle-log"></div>
                </div>
            </div>
        </div>
        
        <!-- Store Modal -->
        <div id="store-modal" class="modal" style="display: none;">
            <div class="store-content">
                <h3>Store</h3>
                <div class="store-header">
                    <div class="store-player-info">
                        <span id="store-player-name">Player 1</span> | 
                        Money: $<span id="store-player-money">0</span> | 
                        Capacity: <span id="store-player-capacity">0/6</span>
                    </div>
                    <button class="finish-shopping-btn" onclick="game.finishShopping()">Finish Shopping</button>
                </div>
                <div class="store-grid">
                    <div class="store-items-section">
                        <h4>Available Items</h4>
                        <div id="store-items" class="store-items"></div>
                    </div>
                    <div class="player-inventory-section">
                        <h4>Your Inventory</h4>
                        <div id="player-inventory" class="player-inventory"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Capacity Management Modal -->
        <div id="capacity-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>Capacity Overflow</h3>
                <div class="capacity-info">
                    <p><span id="capacity-player-name">Player 1</span>, your inventory is over capacity!</p>
                    <p>Current: <span id="capacity-current">8</span> | Max: <span id="capacity-max">6</span> | Excess: <span id="capacity-excess">2</span></p>
                    <p>Please remove items to fit within your capacity:</p>
                </div>
                <div id="capacity-items" class="capacity-items"></div>
            </div>
        </div>
        
        <!-- Monster Selection Modal -->
        <div id="monster-selection-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>Monster Encountered!</h3>
                <div class="monster-info">
                    <div class="monster-stats">
                        <p><strong>Level:</strong> <span id="monster-level-display"></span></p>
                        <p><strong>HP:</strong> <span id="monster-hp-display"></span></p>
                        <p><strong>ATT:</strong> <span id="monster-att-display"></span></p>
                    </div>
                    <div class="monster-rewards">
                        <h4>Rewards:</h4>
                        <p>üí∞ Money: <span id="monster-money-display"></span></p>
                        <p>‚ö° Energy: <span id="monster-energy-display"></span></p>
                        <p>ü©∏ Blood: <span id="monster-blood-display"></span></p>
                        <p>üèÜ Points: <span id="monster-pts-display"></span></p>
                    </div>
                    <div class="monster-effect">
                        <h4>Effect:</h4>
                        <div id="monster-effect-display" class="effect-text"></div>
                    </div>
                </div>
                <div class="monster-actions">
                    <button onclick="game.changeMonster()" id="change-monster-btn">Change (-1 EP)</button>
                    <button onclick="game.confirmMonsterSelection()">Ready</button>
                </div>
            </div>
        </div>
        
        <!-- Data Collection Modal -->
        <div id="data-collection-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>Data Collection Mode</h3>
                <div class="data-collection-settings">
                    <div class="setting-group">
                        <label for="num-games">Number of Games:</label>
                        <input type="number" id="num-games" min="1" max="1000" value="10">
                    </div>
                    <div class="setting-group">
                        <label for="player-count-select">Player Count:</label>
                        <select id="player-count-select">
                            <option value="2">2 Players</option>
                            <option value="3">3 Players</option>
                            <option value="4">4 Players</option>
                            <option value="5">5 Players</option>
                        </select>
                    </div>
                    <div class="button-group">
                        <button class="start-collection-btn" onclick="game.startDataCollection()">Start Collection</button>
                        <button class="cancel-btn" onclick="game.hideDataCollectionModal()">Cancel</button>
                    </div>
                    <div id="data-collection-status" class="data-collection-status"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>